(function(h){h.prettyPhoto={version:"3.1.4"};h.fn.prettyPhoto=function(S){S=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5000,autoplay_slideshow:false,opacity:0.8,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:false,wmode:"opaque",autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder">       <div class="ppt">&nbsp;</div>       <div class="pp_top">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>       <div class="pp_content_container">        <div class="pp_left">        <div class="pp_right">         <div class="pp_content">          <div class="pp_loaderIcon"></div>          <div class="pp_fade">           <a href="#" class="pp_expand" title="Expand the image">Expand</a>           <div class="pp_hoverContainer">            <a class="pp_next" href="#">next</a>            <a class="pp_previous" href="#">previous</a>           </div>           <div id="pp_full_res"></div>           <div class="pp_details">            <div class="pp_nav">             <a href="#" class="pp_arrow_previous">Previous</a>             <p class="currentTextHolder">0/0</p>             <a href="#" class="pp_arrow_next">Next</a>            </div>            <p class="pp_description"></p>            <div class="pp_social">{pp_social}</div>            <a class="pp_close" href="#">Close</a>           </div>          </div>         </div>        </div>        </div>       </div>       <div class="pp_bottom">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>      </div>      <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery">         <a href="#" class="pp_arrow_previous">Previous</a>         <div>          <ul>           {gallery}          </ul>         </div>         <a href="#" class="pp_arrow_next">Next</a>        </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},S);var L=this,M=false,D,F,E,C,c,b,Q=h(window).height(),H=h(window).width(),P;doresize=true,scroll_pos=a();h(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){G();d()});if(S.keyboard_shortcuts){h(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(k){if(typeof $pp_pic_holder!="undefined"){if($pp_pic_holder.is(":visible")){switch(k.keyCode){case 37:h.prettyPhoto.changePage("previous");k.preventDefault();break;case 39:h.prettyPhoto.changePage("next");k.preventDefault();break;case 27:if(!settings.modal){h.prettyPhoto.close()}k.preventDefault();break}}}})}h.prettyPhoto.initialize=function(){settings=S;if(settings.theme=="pp_default"){settings.horizontal_padding=16}if(settings.ie6_fallback&&h.browser.msie&&parseInt(h.browser.version)==6){settings.theme="light_square"}theRel=h(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=(galleryRegExp.exec(theRel))?true:false;pp_images=(isSet)?jQuery.map(L,function(k,l){if(h(k).attr(settings.hook).indexOf(theRel)!=-1){return h(k).attr("href")}}):h.makeArray(h(this).attr("href"));pp_titles=(isSet)?jQuery.map(L,function(k,l){if(h(k).attr(settings.hook).indexOf(theRel)!=-1){return(h(k).find("img").attr("alt"))?h(k).find("img").attr("alt"):""}}):h.makeArray(h(this).find("img").attr("alt"));pp_descriptions=(isSet)?jQuery.map(L,function(k,l){if(h(k).attr(settings.hook).indexOf(theRel)!=-1){return(h(k).attr("title"))?h(k).attr("title"):""}}):h.makeArray(h(this).attr("title"));if(pp_images.length>settings.overlay_gallery_max){settings.overlay_gallery=false}set_position=jQuery.inArray(h(this).attr("href"),pp_images);rel_index=(isSet)?set_position:h("a["+settings.hook+"^='"+theRel+"']").index(h(this));R(this);if(settings.allow_resize){h(window).bind("scroll.prettyphoto",function(){G()})}h.prettyPhoto.open();return false};h.prettyPhoto.open=function(k){if(typeof settings=="undefined"){settings=S;if(h.browser.msie&&h.browser.version==6){settings.theme="light_square"}pp_images=h.makeArray(arguments[0]);pp_titles=(arguments[1])?h.makeArray(arguments[1]):h.makeArray("");pp_descriptions=(arguments[2])?h.makeArray(arguments[2]):h.makeArray("");isSet=(pp_images.length>1)?true:false;set_position=(arguments[3])?arguments[3]:0;R(k.target)}if(h.browser.msie&&h.browser.version==6){h("select").css("visibility","hidden")}if(settings.hideflash){h("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden")}N(h(pp_images).size());h(".pp_loaderIcon").show();if(settings.deeplinking){f()}if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));$pp_pic_holder.find(".pp_social").html(facebook_like_link)}if($ppt.is(":hidden")){$ppt.css("opacity",0).show()}$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text((set_position+1)+settings.counter_separator_label+h(pp_images).size());if(typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""){$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position]))}else{$pp_pic_holder.find(".pp_description").hide()}movie_width=(parseFloat(g("width",pp_images[set_position])))?g("width",pp_images[set_position]):settings.default_width.toString();movie_height=(parseFloat(g("height",pp_images[set_position])))?g("height",pp_images[set_position]):settings.default_height.toString();M=false;if(movie_height.indexOf("%")!=-1){movie_height=parseFloat((h(window).height()*parseFloat(movie_height)/100)-150);M=true}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat((h(window).width()*parseFloat(movie_width)/100)-150);M=true}$pp_pic_holder.fadeIn(function(){(settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined")?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");imgPreloader="";skipInjection=false;switch(I(pp_images[set_position])){case"image":imgPreloader=new Image();nextImage=new Image();if(isSet&&set_position<h(pp_images).size()-1){nextImage.src=pp_images[set_position+1]}prevImage=new Image();if(isSet&&pp_images[set_position-1]){prevImage.src=pp_images[set_position-1]}$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){D=J(imgPreloader.width,imgPreloader.height);O()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");h.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":D=J(movie_width,movie_height);movie_id=g("v",pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split("youtu.be/");movie_id=movie_id[1];if(movie_id.indexOf("?")>0){movie_id=movie_id.substr(0,movie_id.indexOf("?"))}if(movie_id.indexOf("&")>0){movie_id=movie_id.substr(0,movie_id.indexOf("&"))}}movie="http://www.youtube.com/embed/"+movie_id;(g("rel",pp_images[set_position]))?movie+="?rel="+g("rel",pp_images[set_position]):movie+="?rel=1";if(settings.autoplay){movie+="&autoplay=1"}toInject=settings.iframe_markup.replace(/{width}/g,D.width).replace(/{height}/g,D.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":D=J(movie_width,movie_height);movie_id=pp_images[set_position];var l=/http:\/\/(www\.)?vimeo.com\/(\d+)/;var m=movie_id.match(l);movie="http://player.vimeo.com/video/"+m[2]+"?title=0&amp;byline=0&amp;portrait=0";if(settings.autoplay){movie+="&autoplay=1;"}vimeo_width=D.width+"/embed/?moog_width="+D.width;toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,D.height).replace(/{path}/g,movie);break;case"quicktime":D=J(movie_width,movie_height);D.height+=15;D.contentHeight+=15;D.containerHeight+=15;toInject=settings.quicktime_markup.replace(/{width}/g,D.width).replace(/{height}/g,D.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":D=J(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,D.width).replace(/{height}/g,D.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":D=J(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,D.width).replace(/{height}/g,D.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=false;D=J(movie_width,movie_height);doresize=true;skipInjection=true;h.get(pp_images[set_position],function(n){toInject=settings.inline_markup.replace(/{content}/g,n);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;O()});break;case"custom":D=J(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=h(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(h("body")).show();doresize=false;D=J(h(myClone).width(),h(myClone).height());doresize=true;h(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,h(pp_images[set_position]).html());break}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;O()}});return false};h.prettyPhoto.changePage=function(k){currentGalleryPage=0;if(k=="previous"){set_position--;if(set_position<0){set_position=h(pp_images).size()-1}}else{if(k=="next"){set_position++;if(set_position>h(pp_images).size()-1){set_position=0}}else{set_position=k}}rel_index=set_position;if(!doresize){doresize=true}if(settings.allow_expand){h(".pp_contract").removeClass("pp_contract").addClass("pp_expand")}K(function(){h.prettyPhoto.open()})};h.prettyPhoto.changeGalleryPage=function(k){if(k=="next"){currentGalleryPage++;if(currentGalleryPage>totalPage){currentGalleryPage=0}}else{if(k=="previous"){currentGalleryPage--;if(currentGalleryPage<0){currentGalleryPage=totalPage}}else{currentGalleryPage=k}}slide_speed=(k=="next"||k=="previous")?settings.animation_speed:0;slide_to=currentGalleryPage*(itemsPerPage*itemWidth);$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};h.prettyPhoto.startSlideshow=function(){if(typeof P=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){h.prettyPhoto.stopSlideshow();return false});P=setInterval(h.prettyPhoto.startSlideshow,settings.slideshow)}else{h.prettyPhoto.changePage("next")}};h.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){h.prettyPhoto.startSlideshow();return false});clearInterval(P);P=undefined};h.prettyPhoto.close=function(){if($pp_overlay.is(":animated")){return}h.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");h("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){h(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(h.browser.msie&&h.browser.version==6){h("select").css("visibility","visible")}if(settings.hideflash){h("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible")}h(this).remove();h(window).unbind("scroll.prettyphoto");j();settings.callback();doresize=true;F=false;delete settings})};function O(){h(".pp_loaderIcon").hide();projectedTop=scroll_pos.scrollTop+((Q/2)-(D.containerHeight/2));if(projectedTop<0){projectedTop=0}$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(".pp_content").animate({height:D.contentHeight,width:D.contentWidth},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:((H/2)-(D.containerWidth/2)<0)?0:(H/2)-(D.containerWidth/2),width:D.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(D.height).width(D.width);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);if(isSet&&I(pp_images[set_position])=="image"){$pp_pic_holder.find(".pp_hoverContainer").show()}else{$pp_pic_holder.find(".pp_hoverContainer").hide()}if(settings.allow_expand){if(D.resized){h("a.pp_expand,a.pp_contract").show()}else{h("a.pp_expand").hide()}}if(settings.autoplay_slideshow&&!P&&!F){h.prettyPhoto.startSlideshow()}settings.changepicturecallback();F=true});T();S.ajaxcallback()}function K(k){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){h(".pp_loaderIcon").show();k()})}function N(k){(k>1)?h(".pp_nav").show():h(".pp_nav").hide()}function J(k,l){resized=false;e(k,l);imageWidth=k,imageHeight=l;if(((b>H)||(c>Q))&&doresize&&settings.allow_resize&&!M){resized=true,fitting=false;while(!fitting){if((b>H)){imageWidth=(H-200);imageHeight=(l/k)*imageWidth}else{if((c>Q)){imageHeight=(Q-200);imageWidth=(k/l)*imageHeight}else{fitting=true}}c=imageHeight,b=imageWidth}e(imageWidth,imageHeight);if((b>H)||(c>Q)){J(b,c)}}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(c),containerWidth:Math.floor(b)+(settings.horizontal_padding*2),contentHeight:Math.floor(E),contentWidth:Math.floor(C),resized:resized}}function e(k,l){k=parseFloat(k);l=parseFloat(l);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(k);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(k).appendTo(h("body")).css({position:"absolute",top:-10000});detailsHeight+=$pp_details.height();detailsHeight=(detailsHeight<=34)?36:detailsHeight;if(h.browser.msie&&h.browser.version==7){detailsHeight+=8}$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(k);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(h("body")).css({position:"absolute",top:-10000});titleHeight+=$pp_title.height();$pp_title.remove();E=l+detailsHeight;C=k;c=E+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();b=k}function I(k){if(k.match(/youtube\.com\/watch/i)||k.match(/youtu\.be/i)){return"youtube"}else{if(k.match(/vimeo\.com/i)){return"vimeo"}else{if(k.match(/\b.mov\b/i)){return"quicktime"}else{if(k.match(/\b.swf\b/i)){return"flash"}else{if(k.match(/\biframe=true\b/i)){return"iframe"}else{if(k.match(/\bajax=true\b/i)){return"ajax"}else{if(k.match(/\bcustom=true\b/i)){return"custom"}else{if(k.substr(0,1)=="#"){return"inline"}else{return"image"}}}}}}}}}function G(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=a();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=(Q/2)+scroll_pos.scrollTop-(contentHeight/2);if(projectedTop<0){projectedTop=0}if(contentHeight>Q){return}$pp_pic_holder.css({top:projectedTop,left:(H/2)+scroll_pos.scrollLeft-(contentwidth/2)})}}function a(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else{if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else{if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}}}function d(){Q=h(window).height(),H=h(window).width();if(typeof $pp_overlay!="undefined"){$pp_overlay.height(h(document).height()).width(H)}}function T(){if(isSet&&settings.overlay_gallery&&I(pp_images[set_position])=="image"&&(settings.ie6_fallback&&!(h.browser.msie&&parseInt(h.browser.version)==6))){itemWidth=52+5;navWidth=(settings.theme=="facebook"||settings.theme=="pp_default")?50:30;itemsPerPage=Math.floor((D.containerWidth-100-navWidth)/itemWidth);itemsPerPage=(itemsPerPage<pp_images.length)?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else{$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-((galleryWidth/2)+(navWidth/2))).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=(Math.floor(set_position/itemsPerPage)<totalPage)?Math.floor(set_position/itemsPerPage):totalPage;h.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else{$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}}function R(l){if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))}settings.markup=settings.markup.replace("{pp_social}","");h("body").append(settings.markup);$pp_pic_holder=h(".pp_pic_holder"),$ppt=h(".ppt"),$pp_overlay=h("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var k=0;k<pp_images.length;k++){if(!pp_images[k].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[k]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=h(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){h.prettyPhoto.changeGalleryPage("next");h.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(".pp_arrow_previous").click(function(){h.prettyPhoto.changeGalleryPage("previous");h.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(m){h(this).find("a").click(function(){h.prettyPhoto.changePage(m);h.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){h.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:h(document).height(),width:h(window).width()}).bind("click",function(){if(!settings.modal){h.prettyPhoto.close()}});h("a.pp_close").bind("click",function(){h.prettyPhoto.close();return false});if(settings.allow_expand){h("a.pp_expand").bind("click",function(m){if(h(this).hasClass("pp_expand")){h(this).removeClass("pp_expand").addClass("pp_contract");doresize=false}else{h(this).removeClass("pp_contract").addClass("pp_expand");doresize=true}K(function(){h.prettyPhoto.open()});return false})}$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){h.prettyPhoto.changePage("previous");h.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){h.prettyPhoto.changePage("next");h.prettyPhoto.stopSlideshow();return false});G()}if(!pp_alreadyInitialized&&i()){pp_alreadyInitialized=true;hashIndex=i();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf("/"));setTimeout(function(){h("a["+S.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)}return this.unbind("click.prettyphoto").bind("click.prettyphoto",h.prettyPhoto.initialize)};function i(){url=location.href;hashtag=(url.indexOf("#prettyPhoto")!==-1)?decodeURI(url.substring(url.indexOf("#prettyPhoto")+1,url.length)):false;return hashtag}function f(){if(typeof theRel=="undefined"){return}location.hash=theRel+"/"+rel_index+"/"}function j(){if(location.href.indexOf("#prettyPhoto")!==-1){location.hash="prettyPhoto"}}function g(c,d){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+c+"=([^&#]*)";var a=new RegExp(e);var b=a.exec(d);return(b==null)?"":b[1]}})(jQuery);var pp_alreadyInitialized=false;(function(b){b("a[data-reveal-id]").live("click",function(d){d.preventDefault();var a=b(this).attr("data-reveal-id");b("#"+a).reveal(b(this).data())});b.fn.reveal=function(a){var d={animation:"fadeAndPop",animationspeed:300,closeonbackgroundclick:true,dismissmodalclass:"close-reveal-modal"};var a=b.extend({},d,a);return this.each(function(){var c=b(this),o=parseInt(c.css("top")),m=c.height()+o,p=false,n=b(".reveal-modal-bg");if(n.length==0){n=b('<div class="reveal-modal-bg" />').insertAfter(c)}c.bind("reveal:open",function(){n.unbind("click.modalEvent");b("."+a.dismissmodalclass).unbind("click.modalEvent");if(!p){l();if(a.animation=="fadeAndPop"){c.css({top:b(document).scrollTop()-m,opacity:0,visibility:"visible"});n.fadeIn(a.animationspeed/2);c.delay(a.animationspeed/2).animate({top:b(document).scrollTop()+o+"px",opacity:1},a.animationspeed,r())}if(a.animation=="fade"){c.css({opacity:0,visibility:"visible",top:b(document).scrollTop()+o});n.fadeIn(a.animationspeed/2);c.delay(a.animationspeed/2).animate({opacity:1},a.animationspeed,r())}if(a.animation=="none"){c.css({visibility:"visible",top:b(document).scrollTop()+o});n.css({display:"block"});r()}}c.unbind("reveal:open")});c.bind("reveal:close",function(){if(!p){l();if(a.animation=="fadeAndPop"){n.delay(a.animationspeed).fadeOut(a.animationspeed);c.animate({top:b(document).scrollTop()-m+"px",opacity:0},a.animationspeed/2,function(){c.css({top:o,opacity:1,visibility:"hidden"});r()})}if(a.animation=="fade"){n.delay(a.animationspeed).fadeOut(a.animationspeed);c.animate({opacity:0},a.animationspeed,function(){c.css({opacity:1,visibility:"hidden",top:o});r()})}if(a.animation=="none"){c.css({visibility:"hidden",top:o});n.css({display:"none"})}}c.unbind("reveal:close")});c.trigger("reveal:open");var q=b("."+a.dismissmodalclass).bind("click.modalEvent",function(){c.trigger("reveal:close")});if(a.closeonbackgroundclick){n.css({cursor:"pointer"});n.bind("click.modalEvent",function(){c.trigger("reveal:close")})}b("body").keyup(function(e){if(e.which===27){c.trigger("reveal:close")}});function r(){p=false}function l(){p=true}})}})(jQuery);$(document).ready(function(){$("nav").sticky({topSpacing:0});$(window).bind("scroll",function(a){var b=$(this).scrollTop();if(b>440&&b<550){$("#logo").css("top","626px");$("#logo").css("position","absolute")}if(b<440){$("#logo").css("top","200px");$("#logo").css("position","fixed")}if(b>600){$("#logo").css("top","20px");$("#logo").css("position","fixed")}if(b>160&&b<550){$("#logo2").css("top","360px");$("#logo2").css("position","absolute")}if(b<160){$("#logo2").css("top","200px");$("#logo2").css("position","fixed")}if(b>340){$("#logo2").css("top","20px");$("#logo2").css("position","fixed")}if(b<60){$(".title p ").fadeIn(1000);$(".title .new-intro  ").fadeIn(1000)}if(b>80){$(".title p ").fadeOut(1000);$(".title .new-intro  ").fadeOut(1000)}if(b<60){$("#intro1 .hello ").fadeIn(1000);$("#intro1 .hello  ").fadeIn(1000)}if(b>80){$("#intro1 .hello ").fadeOut(1000);$("#intro1 .hello ").fadeOut(1000)}});$(".share-btn").hover(function(){$(".share-widget span.middle").fadeIn(400);$(".share-widget span.tooltip").fadeIn(400)});$(".share-btn").mouseout(function(){$(".share-widget span.tooltip").delay(2000).fadeOut(600)});$(".mainNav li").click(function(){$(".mainNav li").removeClass("currentli");$(this).addClass("currentli")});$(".mainNav li").click(function(){$(".mainNav li a .navNumber").removeClass("current");$(this).find(".navNumber").addClass("current")});$("nav a").smoothScroll();$("#logo a").smoothScroll();$("#arw-dwn a").smoothScroll();$(".title p a").smoothScroll();$(".flexslider").flexslider({animation:"slide",animationLoop:true,itemWidth:860,itemMargin:0});$("a[class^='prettyPhoto']").prettyPhoto({social_tools:false,theme:"light_square",allow_resize:false,});$("#tweet").hide();$(".tw-logo").mouseover(function(){$(".tw-logo").css("opacity","1");jQuery(function(a){a("#tweet").tweet({join_text:"auto",username:"theparida",avatar_size:36,count:4,auto_join_text_default:" I said, ",auto_join_text_ed:" I ",auto_join_text_ing:" I was ",auto_join_text_reply:" I replied ",auto_join_text_url:" I was checking out ",loading_text:"loading tweets..."})});$("#tweet").fadeIn(800)})});var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-36895330-1"]);_gaq.push(["_setDomainName","aparida.com"]);_gaq.push(["_setAllowLinker",true]);_gaq.push(["_trackPageview"]);(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();(function(d){function c(){var b=window.innerHeight;var a=document.compatMode;if((a||!d.support.boxModel)){b=(a=="CSS1Compat")?document.documentElement.clientHeight:document.body.clientHeight}return b}d(window).scroll(function(){var a=c(),f=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),b=[];d.each(d.cache,function(){if(this.events&&this.events.inview){b.push(this.handle.elem)}});if(b.length){d(b).each(function(){var k=d(this),e=k.offset().top,l=k.height(),j=k.data("inview")||false;if(f>(e+l)||f+a<e){if(j){k.data("inview",false);k.trigger("inview",[false])}}else{if(f<(e+l)){if(!j){k.data("inview",true);k.trigger("inview",[true])}}}})}});d(function(){d(window).scroll()})})(jQuery);
/*! Smooth Scroll - v1.4.5 - 2012-07-22
* Copyright (c) 2012 Karl Swedberg; Licensed MIT, GPL */
(function(j){var l="1.4.5",i={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:1000,autoCoefficent:2},h=function(b){var a=[],c=false,d=b.dir&&b.dir=="left"?"scrollLeft":"scrollTop";this.each(function(){if(this==document||this==window){return}var e=j(this);if(e[d]()>0){a.push(this)}else{e[d](1);c=e[d]()>0;e[d](0);if(c){a.push(this)}}});if(b.el==="first"&&a.length){a=[a[0]]}return a},g="ontouchend" in document;j.fn.extend({scrollable:function(b){var a=h.call(this,{dir:b});return this.pushStack(a)},firstScrollable:function(b){var a=h.call(this,{el:"first",dir:b});return this.pushStack(a)},smoothScroll:function(c){c=c||{};var b=j.extend({},j.fn.smoothScroll.defaults,c),a=j.smoothScroll.filterPath(location.pathname);this.unbind("click.smoothscroll").bind("click.smoothscroll",function(z){var D=this,d=j(this),x=b.exclude,f=b.excludeWithin,C=0,v=0,y=true,B={},w=((location.hostname===D.hostname)||!D.hostname),A=b.scrollTarget||(j.smoothScroll.filterPath(D.pathname)||a)===a,e=k(D.hash);if(!b.scrollTarget&&(!w||!A||!e)){y=false}else{while(y&&C<x.length){if(d.is(k(x[C++]))){y=false}}while(y&&v<f.length){if(d.closest(f[v++]).length){y=false}}}if(y){z.preventDefault();j.extend(B,b,{scrollTarget:b.scrollTarget||e,link:D});j.smoothScroll(B)}});return this}});j.smoothScroll=function(z,d){var y,x,a,v,b=0,u="offset",f="scrollTop",c={},t={},e=false,w=[];if(typeof z==="number"){y=j.fn.smoothScroll.defaults;a=z}else{y=j.extend({},j.fn.smoothScroll.defaults,z||{});if(y.scrollElement){u="position";if(y.scrollElement.css("position")=="static"){y.scrollElement.css("position","relative")}}a=d||(j(y.scrollTarget)[u]()&&j(y.scrollTarget)[u]()[y.direction])||0}y=j.extend({link:null},y);f=y.direction=="left"?"scrollLeft":f;if(y.scrollElement){x=y.scrollElement;b=x[f]()}else{x=j("html, body").firstScrollable();e=g&&"scrollTo" in window}c[f]=a+b+y.offset;y.beforeScroll.call(x,y);if(e){w=(y.direction=="left")?[c[f],0]:[0,c[f]];window.scrollTo.apply(window,w);y.afterScroll.call(y.link,y)}else{v=y.speed;if(v==="auto"){v=c[f]||x.scrollTop();v=v/y.autoCoefficent}t={duration:v,easing:y.easing,complete:function(){y.afterScroll.call(y.link,y)}};if(y.step){t.step=y.step}x.stop().animate(c,t)}};j.smoothScroll.version=l;j.smoothScroll.filterPath=function(a){return a.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")};j.fn.smoothScroll.defaults=i;function k(a){return a.replace(/(:|\.)/g,"\\$1")}})(jQuery);(function(m){var n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper"},q=m(window),o=m(document),j=[],r=q.height(),l=function(){var i=q.scrollTop(),b=o.height(),c=b-r,g=(i>c)?c-i:0;for(var f=0;f<j.length;f++){var a=j[f],h=a.stickyWrapper.offset().top,e=h-a.topSpacing-g;if(i<=e){if(a.currentTop!==null){a.stickyElement.css("position","").css("top","").removeClass(a.className);a.stickyElement.parent().removeClass(a.className);a.currentTop=null}}else{var d=b-a.stickyElement.outerHeight()-a.topSpacing-a.bottomSpacing-i-g;if(d<0){d=d+a.topSpacing}else{d=a.topSpacing}if(a.currentTop!=d){a.stickyElement.css("position","fixed").css("top",d).addClass(a.className);a.stickyElement.parent().addClass(a.className);a.currentTop=d}}}},k=function(){r=q.height()},p={init:function(b){var a=m.extend(n,b);return this.each(function(){var d=m(this);stickyId=d.attr("id");wrapper=m("<div></div>").attr("id",stickyId+"-sticky-wrapper").addClass(a.wrapperClassName);d.wrapAll(wrapper);var c=d.parent();c.css("height",d.outerHeight());j.push({topSpacing:a.topSpacing,bottomSpacing:a.bottomSpacing,stickyElement:d,currentTop:null,stickyWrapper:c,className:a.className})})},update:l};if(window.addEventListener){window.addEventListener("scroll",l,false);window.addEventListener("resize",k,false)}else{if(window.attachEvent){window.attachEvent("onscroll",l);window.attachEvent("onresize",k)}}m.fn.sticky=function(a){if(p[a]){return p[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return p.init.apply(this,arguments)}else{m.error("Method "+a+" does not exist on jQuery.sticky")}}};m(function(){setTimeout(l,0)})})(jQuery);(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b(jQuery)}}(function(b){b.fn.tweet=function(D){var a=b.extend({username:null,list:null,favorites:false,query:null,avatar_size:null,count:3,fetch:null,page:1,retweets:true,intro_text:null,outro_text:null,join_text:null,auto_join_text_default:" I said, ",auto_join_text_ed:" I ",auto_join_text_ing:" I am ",auto_join_text_reply:" I replied to ",auto_join_text_url:" I was looking at ",loading_text:null,refresh_interval:null,twitter_url:"twitter.com",twitter_api_url:"api.twitter.com",twitter_search_url:"search.twitter.com",template:"{avatar}{time}{join} {text}",comparator:function(c,d){return d.tweet_time-c.tweet_time},filter:function(c){return true}},D);var F=/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi;function t(e,d){if(typeof e==="string"){var g=e;for(var f in d){var c=d[f];g=g.split("{"+f+"}").join(c===null?"":c)}return g}else{return e(d)}}b.extend({tweet:{t:t}});function A(c,d){return function(){var e=[];this.each(function(){e.push(this.replace(c,d))});return b(e)}}function u(c){return c.replace(/</g,"&lt;").replace(/>/g,"^&gt;")}b.fn.extend({linkUser:A(/(^|[\W])@(\w+)/gi,'$1<span class="at">@</span><a href="http://'+a.twitter_url+'/$2">$2</a>'),linkHash:A(/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi,' <a href="http://'+a.twitter_search_url+"/search?q=&tag=$1&lang=all"+((a.username&&a.username.length==1&&!a.list)?"&from="+a.username.join("%2BOR%2B"):"")+'" class="tweet_hashtag">#$1</a>'),makeHeart:A(/(&lt;)+[3]/gi,"<tt class='heart'>&#x2665;</tt>")});function B(c,d){return c.replace(F,function(g){var h=(/^[a-z]+:/i).test(g)?g:"http://"+g;var e=g;for(var f=0;f<d.length;++f){var i=d[f];if(i.url==h&&i.expanded_url){h=i.expanded_url;e=i.display_url;break}}return'<a href="'+u(h)+'">'+u(e)+"</a>"})}function v(c){return Date.parse(c.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function o(f){var d=function(g){return parseInt(g,10)};var e=new Date();var c=d((e.getTime()-f)/1000);if(c<1){c=0}return{days:d(c/86400),hours:d(c/3600),minutes:d(c/60),seconds:d(c)}}function E(c){if(c.days>2){return"About "+c.days+" days ago"}if(c.hours>24){return"About a day ago"}if(c.hours>2){return"About "+c.hours+" hours ago"}if(c.minutes>45){return"About an hour ago"}if(c.minutes>2){return"About "+c.minutes+" minutes ago"}if(c.seconds>1){return"About "+c.seconds+" seconds ago"}return"just now"}function y(c){if(c.match(/^(@([A-Za-z0-9-_]+)) .*/i)){return a.auto_join_text_reply}else{if(c.match(F)){return a.auto_join_text_url}else{if(c.match(/^((\w+ed)|just) .*/im)){return a.auto_join_text_ed}else{if(c.match(/^(\w*ing) .*/i)){return a.auto_join_text_ing}else{return a.auto_join_text_default}}}}}function C(){var e=("https:"==document.location.protocol?"https:":"http:");var f=(a.fetch===null)?a.count:a.fetch;var c="&callback=?";if(a.list){return e+"//"+a.twitter_api_url+"/1/"+a.username[0]+"/lists/"+a.list+"/statuses.json?page="+a.page+"&per_page="+f+c}else{if(a.favorites){return e+"//"+a.twitter_api_url+"/1/favorites.json?screen_name="+a.username[0]+"&page="+a.page+"&count="+f+c}else{if(a.query===null&&a.username.length==1){return e+"//"+a.twitter_api_url+"/1/statuses/user_timeline.json?screen_name="+a.username[0]+"&count="+f+(a.retweets?"&include_rts=1":"")+"&page="+a.page+c}else{var d=(a.query||"from:"+a.username.join(" OR from:"));return e+"//"+a.twitter_search_url+"/search.json?&q="+encodeURIComponent(d)+"&rpp="+f+"&page="+a.page+c}}}}function s(d,c){if(c){return("user" in d)?d.user.profile_image_url_https:s(d,false).replace(/^http:\/\/[a-z0-9]{1,3}\.twimg\.com\//,"https://s3.amazonaws.com/twitter_production/")}else{return d.profile_image_url||d.user.profile_image_url}}function w(d){var c={};c.item=d;c.source=d.source;c.screen_name=d.from_user||d.user.screen_name;c.name=d.from_user_name||d.user.name;c.retweet=typeof(d.retweeted_status)!="undefined";c.tweet_time=v(d.created_at);c.join_text=a.join_text=="auto"?y(d.text):a.join_text;c.tweet_id=d.id_str;c.twitter_base="http://"+a.twitter_url+"/";c.user_url=c.twitter_base+c.screen_name;c.tweet_url=c.user_url+"/status/"+c.tweet_id;c.reply_url=c.twitter_base+"intent/tweet?in_reply_to="+c.tweet_id;c.retweet_url=c.twitter_base+"intent/retweet?tweet_id="+c.tweet_id;c.favorite_url=c.twitter_base+"intent/favorite?tweet_id="+c.tweet_id;c.retweeted_screen_name=c.retweet&&d.retweeted_status.user.screen_name;c.tweet_relative_time=E(o(c.tweet_time));c.entities=d.entities?(d.entities.urls||[]).concat(d.entities.media||[]):[];c.tweet_raw_text=c.retweet?("RT @"+c.retweeted_screen_name+" "+d.retweeted_status.text):d.text;c.tweet_text=b([B(c.tweet_raw_text,c.entities)]).linkUser().linkHash()[0];c.retweeted_tweet_text=b([B(d.text,c.entities)]).linkUser().linkHash()[0];c.tweet_text_fancy=b([c.tweet_text]).makeHeart()[0];c.avatar_size=a.avatar_size;c.avatar_url=s(c.retweet?d.retweeted_status:d,(document.location.protocol==="https:"));c.avatar_screen_name=c.retweet?c.retweeted_screen_name:c.screen_name;c.avatar_profile_url=c.twitter_base+c.avatar_screen_name;c.user=t('<a class="tweet_user" href="{user_url}">{screen_name}</a>',c);c.join=a.join_text?t('<span class="tweet_join">{join_text}</span>',c):"";c.avatar=c.avatar_size?t('<a class="tweet_avatar" href="{avatar_profile_url}"><img src="{avatar_url}" height="{avatar_size}" width="{avatar_size}" alt="{avatar_screen_name}\'s avatar" title="{avatar_screen_name}\'s avatar" border="0"/></a>',c):"";c.time=t('<span class="tweet_time"><a href="{tweet_url}" title="view tweet on twitter">{tweet_relative_time}</a></span>',c);c.text=t('<span class="tweet_text">{tweet_text_fancy}</span>',c);c.retweeted_text=t('<span class="tweet_text">{retweeted_tweet_text}</span>',c);c.reply_action=t('<a class="tweet_action tweet_reply" href="{reply_url}">reply</a>',c);c.retweet_action=t('<a class="tweet_action tweet_retweet" href="{retweet_url}">retweet</a>',c);c.favorite_action=t('<a class="tweet_action tweet_favorite" href="{favorite_url}">favorite</a>',c);return c}function z(d,c){var e=b('<ul class="tweet_list">');e.append(b.map(c,function(f){return"<li>"+t(a.template,f)+"</li>"}).join("")).children("li:first").addClass("tweet_first").end().children("li:odd").addClass("tweet_even").end().children("li:even").addClass("tweet_odd");b(d).empty().append(e);if(a.intro_text){e.before('<p class="tweet_intro">'+a.intro_text+"</p>")}if(a.outro_text){e.after('<p class="tweet_outro">'+a.outro_text+"</p>")}b(d).trigger("loaded").trigger((c.length===0?"empty":"full"));if(a.refresh_interval){window.setTimeout(function(){b(d).trigger("tweet:load")},1000*a.refresh_interval)}}function x(d){var c=b('<p class="loading">'+a.loading_text+"</p>");if(a.loading_text){b(d).not(":has(.tweet_list)").empty().append(c)}b.getJSON(C(),function(f){var e=b.map(f.results||f,w);e=b.grep(e,a.filter).sort(a.comparator).slice(0,a.count);b(d).trigger("tweet:retrieved",[e])})}return this.each(function(d,c){if(a.username&&typeof(a.username)=="string"){a.username=[a.username]}b(c).unbind("tweet:render").unbind("tweet:retrieved").unbind("tweet:load").bind({"tweet:load":function(){x(c)},"tweet:retrieved":function(f,e){b(c).trigger("tweet:render",[e])},"tweet:render":function(f,e){z(b(c),e)}}).trigger("tweet:load")})}}));(function(b){b.quote_rotator={defaults:{rotation_speed:5000,pause_on_hover:true,randomize_first_quote:false,buttons:false}};b.fn.extend({quote_rotator:function(a){var a=b.extend({},b.quote_rotator.defaults,a);return this.each(function(){var o;var y=b(this);var p=y.find("li");var r=true;var q=a.rotation_speed<2000?2000:a.rotation_speed;var u=function(){var c=y.find("li.active").length===0;if(a.randomize_first_quote){var d=b(p[Math.floor(Math.random()*(p.length))]);d.addClass("active")}else{if(c){y.find("li:first").addClass("active")}}}();var x=function(c){return c.next("li").length?c.next("li"):y.find("li:first")};var s=function(c){return c.prev("li").length?c.prev("li"):y.find("li:last")};var v=function(d){var c=y.find("li.active");var e=d==="forward"?x(c):s(c);c.animate({opacity:0},1000,function(){c.hide();p.css("opacity",1);e.fadeIn(1000)});c.removeClass("active");e.addClass("active")};var w=function(){o=setInterval(function(){if(r){v("forward")}},q)};var t=function(){y.hover(function(){r=false},function(){r=true})};var z=function(){y.append('<div class="qr_buttons">              <button class="qr_previous">'+a.buttons.previous+'</button>              <button class="qr_next">'+a.buttons.next+"</button>            </div>");y.find("button").click(function(){clearInterval(o);v(b(this).hasClass("qr_next")?"forward":"backward");w()})};if(a.buttons){z()}if(a.pause_on_hover){t()}p.not(".active").hide();w()})}})})(jQuery);$(document).ready(function(){$("ul.hello").quote_rotator({rotation_speed:4000,pause_on_hover:false,randomize_first_quote:false});$("ul.button_quotes").quote_rotator({buttons:{next:'<img src="images/right.png">',previous:'<img src="images/left.png">'}})});(function(a){a.flexslider=function(k,i){var w=a(k),v=a.extend({},a.flexslider.defaults,i),r=v.namespace,b="ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch,x=b?"touchend":"click",g="vertical"===v.direction,d=v.reverse,o=0<v.itemWidth,z="fade"===v.animation,y=""!==v.asNavFor,p={};a.data(k,"flexslider",w);p={init:function(){w.animating=!1;w.currentSlide=v.startAt;w.animatingTo=w.currentSlide;w.atEnd=0===w.currentSlide||w.currentSlide===w.last;w.containerSelector=v.selector.substr(0,v.selector.search(" "));w.slides=a(v.selector,w);w.container=a(w.containerSelector,w);w.count=w.slides.length;w.syncExists=0<a(v.sync).length;"slide"===v.animation&&(v.animation="swing");w.prop=g?"top":"marginLeft";w.args={};w.manualPause=!1;var c=w,f;if(f=!v.video){if(f=!z){if(f=v.useCSS){w:{f=document.createElement("div");var j=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],h;for(h in j){if(void 0!==f.style[j[h]]){w.pfx=j[h].replace("Perspective","").toLowerCase();w.prop="-"+w.pfx+"-transform";f=!0;break w}}f=!1}}}}c.transitions=f;""!==v.controlsContainer&&(w.controlsContainer=0<a(v.controlsContainer).length&&a(v.controlsContainer));""!==v.manualControls&&(w.manualControls=0<a(v.manualControls).length&&a(v.manualControls));v.randomize&&(w.slides.sort(function(){return Math.round(Math.random())-0.5}),w.container.empty().append(w.slides));w.doMath();y&&p.asNav.setup();w.setup("init");v.controlNav&&p.controlNav.setup();v.directionNav&&p.directionNav.setup();v.keyboard&&(1===a(w.containerSelector).length||v.multipleKeyboard)&&a(document).bind("keyup",function(e){e=e.keyCode;if(!w.animating&&(39===e||37===e)){e=39===e?w.getTarget("next"):37===e?w.getTarget("prev"):!1,w.flexAnimate(e,v.pauseOnAction)}});v.mousewheel&&w.bind("mousewheel",function(e,l){e.preventDefault();var m=0>l?w.getTarget("next"):w.getTarget("prev");w.flexAnimate(m,v.pauseOnAction)});v.pausePlay&&p.pausePlay.setup();v.slideshow&&(v.pauseOnHover&&w.hover(function(){!w.manualPlay&&!w.manualPause&&w.pause()},function(){!w.manualPause&&!w.manualPlay&&w.play()}),0<v.initDelay?setTimeout(w.play,v.initDelay):w.play());b&&v.touch&&p.touch();(!z||z&&v.smoothHeight)&&a(window).bind("resize focus",p.resize);setTimeout(function(){v.start(w)},200)},asNav:{setup:function(){w.asNav=!0;w.animatingTo=Math.floor(w.currentSlide/w.move);w.currentItem=w.currentSlide;w.slides.removeClass(r+"active-slide").eq(w.currentItem).addClass(r+"active-slide");w.slides.click(function(c){c.preventDefault();c=a(this);var e=c.index();!a(v.asNavFor).data("flexslider").animating&&!c.hasClass("active")&&(w.direction=w.currentItem<e?"next":"prev",w.flexAnimate(e,v.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){w.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var c=1,e;w.controlNavScaffold=a('<ol class="'+r+"control-nav "+r+("thumbnails"===v.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<w.pagingCount){for(var f=0;f<w.pagingCount;f++){e="thumbnails"===v.controlNav?'<img src="'+w.slides.eq(f).attr("data-thumb")+'"/>':"<a>"+c+"</a>",w.controlNavScaffold.append("<li>"+e+"</li>"),c++}}w.controlsContainer?a(w.controlsContainer).append(w.controlNavScaffold):w.append(w.controlNavScaffold);p.controlNav.set();p.controlNav.active();w.controlNavScaffold.delegate("a, img",x,function(h){h.preventDefault();h=a(this);var j=w.controlNav.index(h);h.hasClass(r+"active")||(w.direction=j>w.currentSlide?"next":"prev",w.flexAnimate(j,v.pauseOnAction))});b&&w.controlNavScaffold.delegate("a","click touchstart",function(h){h.preventDefault()})},setupManual:function(){w.controlNav=w.manualControls;p.controlNav.active();w.controlNav.live(x,function(c){c.preventDefault();c=a(this);var e=w.controlNav.index(c);c.hasClass(r+"active")||(e>w.currentSlide?w.direction="next":w.direction="prev",w.flexAnimate(e,v.pauseOnAction))});b&&w.controlNav.live("click touchstart",function(c){c.preventDefault()})},set:function(){w.controlNav=a("."+r+"control-nav li "+("thumbnails"===v.controlNav?"img":"a"),w.controlsContainer?w.controlsContainer:w)},active:function(){w.controlNav.removeClass(r+"active").eq(w.animatingTo).addClass(r+"active")},update:function(e,f){1<w.pagingCount&&"add"===e?w.controlNavScaffold.append(a("<li><a>"+w.count+"</a></li>")):1===w.pagingCount?w.controlNavScaffold.find("li").remove():w.controlNav.eq(f).closest("li").remove();p.controlNav.set();1<w.pagingCount&&w.pagingCount!==w.controlNav.length?w.update(f,e):p.controlNav.active()}},directionNav:{setup:function(){var c=a('<ul class="'+r+'direction-nav"><li><a class="'+r+'prev" href="#">'+v.prevText+'</a></li><li><a class="'+r+'next" href="#">'+v.nextText+"</a></li></ul>");w.controlsContainer?(a(w.controlsContainer).append(c),w.directionNav=a("."+r+"direction-nav li a",w.controlsContainer)):(w.append(c),w.directionNav=a("."+r+"direction-nav li a",w));p.directionNav.update();w.directionNav.bind(x,function(e){e.preventDefault();e=a(this).hasClass(r+"next")?w.getTarget("next"):w.getTarget("prev");w.flexAnimate(e,v.pauseOnAction)});b&&w.directionNav.bind("click touchstart",function(e){e.preventDefault()})},update:function(){var c=r+"disabled";1===w.pagingCount?w.directionNav.addClass(c):v.animationLoop?w.directionNav.removeClass(c):0===w.animatingTo?w.directionNav.removeClass(c).filter("."+r+"prev").addClass(c):w.animatingTo===w.last?w.directionNav.removeClass(c).filter("."+r+"next").addClass(c):w.directionNav.removeClass(c)}},pausePlay:{setup:function(){var c=a('<div class="'+r+'pauseplay"><a></a></div>');w.controlsContainer?(w.controlsContainer.append(c),w.pausePlay=a("."+r+"pauseplay a",w.controlsContainer)):(w.append(c),w.pausePlay=a("."+r+"pauseplay a",w));p.pausePlay.update(v.slideshow?r+"pause":r+"play");w.pausePlay.bind(x,function(e){e.preventDefault();a(this).hasClass(r+"pause")?(w.manualPause=!0,w.manualPlay=!1,w.pause()):(w.manualPause=!1,w.manualPlay=!0,w.play())});b&&w.pausePlay.bind("click touchstart",function(e){e.preventDefault()})},update:function(c){"play"===c?w.pausePlay.removeClass(r+"pause").addClass(r+"play").text(v.playText):w.pausePlay.removeClass(r+"play").addClass(r+"pause").text(v.pauseText)}},touch:function(){function A(e){m=g?u-e.touches[0].pageY:u-e.touches[0].pageX;h=g?Math.abs(m)<Math.abs(e.touches[0].pageX-t):Math.abs(m)<Math.abs(e.touches[0].pageY-t);if(!h||500<Number(new Date)-j){e.preventDefault(),!z&&w.transitions&&(v.animationLoop||(m/=0===w.currentSlide&&0>m||w.currentSlide===w.last&&0<m?Math.abs(m)/c+2:1),w.setProps(s+m,"setTouch"))}}function n(){k.removeEventListener("touchmove",A,!1);if(w.animatingTo===w.currentSlide&&!h&&null!==m){var f=d?-m:m,e=0<f?w.getTarget("next"):w.getTarget("prev");w.canAdvance(e)&&(550>Number(new Date)-j&&50<Math.abs(f)||Math.abs(f)>c/2)?w.flexAnimate(e,v.pauseOnAction):z||w.flexAnimate(w.currentSlide,v.pauseOnAction,!0)}k.removeEventListener("touchend",n,!1);s=m=t=u=null}var u,t,s,c,m,j,h=!1;k.addEventListener("touchstart",function(e){w.animating?e.preventDefault():1===e.touches.length&&(w.pause(),c=g?w.h:w.w,j=Number(new Date),s=o&&d&&w.animatingTo===w.last?0:o&&d?w.limit-(w.itemW+v.itemMargin)*w.move*w.animatingTo:o&&w.currentSlide===w.last?w.limit:o?(w.itemW+v.itemMargin)*w.move*w.currentSlide:d?(w.last-w.currentSlide+w.cloneOffset)*c:(w.currentSlide+w.cloneOffset)*c,u=g?e.touches[0].pageY:e.touches[0].pageX,t=g?e.touches[0].pageX:e.touches[0].pageY,k.addEventListener("touchmove",A,!1),k.addEventListener("touchend",n,!1))},!1)},resize:function(){!w.animating&&w.is(":visible")&&(o||w.doMath(),z?p.smoothHeight():o?(w.slides.width(w.computedW),w.update(w.pagingCount),w.setProps()):g?(w.viewport.height(w.h),w.setProps(w.h,"setTotal")):(v.smoothHeight&&p.smoothHeight(),w.newSlides.width(w.computedW),w.setProps(w.computedW,"setTotal")))},smoothHeight:function(e){if(!g||z){var f=z?w:w.viewport;e?f.animate({height:w.slides.eq(w.animatingTo).height()},e):f.height(w.slides.eq(w.animatingTo).height())}},sync:function(c){var f=a(v.sync).data("flexslider"),h=w.animatingTo;switch(c){case"animate":f.flexAnimate(h,v.pauseOnAction,!1,!0);break;case"play":!f.playing&&!f.asNav&&f.play();break;case"pause":f.pause()}}};w.flexAnimate=function(c,m,n,f,e){y&&1===w.pagingCount&&(w.direction=w.currentItem<c?"next":"prev");if(!w.animating&&(w.canAdvance(c,e)||n)&&w.is(":visible")){if(y&&f){if(n=a(v.asNavFor).data("flexslider"),w.atEnd=0===c||c===w.count-1,n.flexAnimate(c,!0,!1,!0,e),w.direction=w.currentItem<c?"next":"prev",n.direction=w.direction,Math.ceil((c+1)/w.visible)-1!==w.currentSlide&&0!==c){w.currentItem=c,w.slides.removeClass(r+"active-slide").eq(c).addClass(r+"active-slide"),c=Math.floor(c/w.visible)}else{return w.currentItem=c,w.slides.removeClass(r+"active-slide").eq(c).addClass(r+"active-slide"),!1}}w.animating=!0;w.animatingTo=c;v.before(w);m&&w.pause();w.syncExists&&!e&&p.sync("animate");v.controlNav&&p.controlNav.active();o||w.slides.removeClass(r+"active-slide").eq(c).addClass(r+"active-slide");w.atEnd=0===c||c===w.last;v.directionNav&&p.directionNav.update();c===w.last&&(v.end(w),v.animationLoop||w.pause());if(z){b?(w.slides.eq(w.currentSlide).css({opacity:0,zIndex:1}),w.slides.eq(c).css({opacity:1,zIndex:2}),w.slides.unbind("webkitTransitionEnd transitionend"),w.slides.eq(w.currentSlide).bind("webkitTransitionEnd transitionend",function(){v.after(w)}),w.animating=!1,w.currentSlide=w.animatingTo):(w.slides.eq(w.currentSlide).fadeOut(v.animationSpeed,v.easing),w.slides.eq(c).fadeIn(v.animationSpeed,v.easing,w.wrapup))}else{var h=g?w.slides.filter(":first").height():w.computedW;o?(c=v.itemWidth>w.w?2*v.itemMargin:v.itemMargin,c=(w.itemW+c)*w.move*w.animatingTo,c=c>w.limit&&1!==w.visible?w.limit:c):c=0===w.currentSlide&&c===w.count-1&&v.animationLoop&&"next"!==w.direction?d?(w.count+w.cloneOffset)*h:0:w.currentSlide===w.last&&0===c&&v.animationLoop&&"prev"!==w.direction?d?0:(w.count+1)*h:d?(w.count-1-c+w.cloneOffset)*h:(c+w.cloneOffset)*h;w.setProps(c,"",v.animationSpeed);if(w.transitions){if(!v.animationLoop||!w.atEnd){w.animating=!1,w.currentSlide=w.animatingTo}w.container.unbind("webkitTransitionEnd transitionend");w.container.bind("webkitTransitionEnd transitionend",function(){w.wrapup(h)})}else{w.container.animate(w.args,v.animationSpeed,v.easing,function(){w.wrapup(h)})}}v.smoothHeight&&p.smoothHeight(v.animationSpeed)}};w.wrapup=function(c){!z&&!o&&(0===w.currentSlide&&w.animatingTo===w.last&&v.animationLoop?w.setProps(c,"jumpEnd"):w.currentSlide===w.last&&(0===w.animatingTo&&v.animationLoop)&&w.setProps(c,"jumpStart"));w.animating=!1;w.currentSlide=w.animatingTo;v.after(w)};w.animateSlides=function(){w.animating||w.flexAnimate(w.getTarget("next"))};w.pause=function(){clearInterval(w.animatedSlides);w.playing=!1;v.pausePlay&&p.pausePlay.update("play");w.syncExists&&p.sync("pause")};w.play=function(){w.animatedSlides=setInterval(w.animateSlides,v.slideshowSpeed);w.playing=!0;v.pausePlay&&p.pausePlay.update("pause");w.syncExists&&p.sync("play")};w.canAdvance=function(c,e){var f=y?w.pagingCount-1:w.last;return e?!0:y&&w.currentItem===w.count-1&&0===c&&"prev"===w.direction?!0:y&&0===w.currentItem&&c===w.pagingCount-1&&"next"!==w.direction?!1:c===w.currentSlide&&!y?!1:v.animationLoop?!0:w.atEnd&&0===w.currentSlide&&c===f&&"next"!==w.direction?!1:w.atEnd&&w.currentSlide===f&&0===c&&"next"===w.direction?!1:!0};w.getTarget=function(c){w.direction=c;return"next"===c?w.currentSlide===w.last?0:w.currentSlide+1:0===w.currentSlide?w.last:w.currentSlide-1};w.setProps=function(c,h,m){var l,j=c?c:(w.itemW+v.itemMargin)*w.move*w.animatingTo;l=-1*function(){if(o){return"setTouch"===h?c:d&&w.animatingTo===w.last?0:d?w.limit-(w.itemW+v.itemMargin)*w.move*w.animatingTo:w.animatingTo===w.last?w.limit:j}switch(h){case"setTotal":return d?(w.count-1-w.currentSlide+w.cloneOffset)*c:(w.currentSlide+w.cloneOffset)*c;case"setTouch":return c;case"jumpEnd":return d?c:w.count*c;case"jumpStart":return d?w.count*c:c;default:return c}}()+"px";w.transitions&&(l=g?"translate3d(0,"+l+",0)":"translate3d("+l+",0,0)",m=void 0!==m?m/1000+"s":"0s",w.container.css("-"+w.pfx+"-transition-duration",m));w.args[w.prop]=l;(w.transitions||void 0===m)&&w.container.css(w.args)};w.setup=function(c){if(z){w.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===c&&(b?w.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+v.animationSpeed/1000+"s ease",zIndex:1}).eq(w.currentSlide).css({opacity:1,zIndex:2}):w.slides.eq(w.currentSlide).fadeIn(v.animationSpeed,v.easing)),v.smoothHeight&&p.smoothHeight()}else{var e,f;"init"===c&&(w.viewport=a('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(w).append(w.container),w.cloneCount=0,w.cloneOffset=0,d&&(f=a.makeArray(w.slides).reverse(),w.slides=a(f),w.container.empty().append(w.slides)));v.animationLoop&&!o&&(w.cloneCount=2,w.cloneOffset=1,"init"!==c&&w.container.find(".clone").remove(),w.container.append(w.slides.first().clone().addClass("clone")).prepend(w.slides.last().clone().addClass("clone")));w.newSlides=a(v.selector,w);e=d?w.count-1-w.currentSlide+w.cloneOffset:w.currentSlide+w.cloneOffset;g&&!o?(w.container.height(200*(w.count+w.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){w.newSlides.css({display:"block"});w.doMath();w.viewport.height(w.h);w.setProps(e*w.h,"init")},"init"===c?100:0)):(w.container.width(200*(w.count+w.cloneCount)+"%"),w.setProps(e*w.computedW,"init"),setTimeout(function(){w.doMath();w.newSlides.css({width:w.computedW,"float":"left",display:"block"});v.smoothHeight&&p.smoothHeight()},"init"===c?100:0))}o||w.slides.removeClass(r+"active-slide").eq(w.currentSlide).addClass(r+"active-slide")};w.doMath=function(){var c=w.slides.first(),l=v.itemMargin,j=v.minItems,h=v.maxItems;w.w=w.width();w.h=c.height();w.boxPadding=c.outerWidth()-c.width();o?(w.itemT=v.itemWidth+l,w.minW=j?j*w.itemT:w.w,w.maxW=h?h*w.itemT:w.w,w.itemW=w.minW>w.w?(w.w-l*j)/j:w.maxW<w.w?(w.w-l*h)/h:v.itemWidth>w.w?w.w:v.itemWidth,w.visible=Math.floor(w.w/(w.itemW+l)),w.move=0<v.move&&v.move<w.visible?v.move:w.visible,w.pagingCount=Math.ceil((w.count-w.visible)/w.move+1),w.last=w.pagingCount-1,w.limit=1===w.pagingCount?0:v.itemWidth>w.w?(w.itemW+2*l)*w.count-w.w-l:(w.itemW+l)*w.count-w.w-l):(w.itemW=w.w,w.pagingCount=w.count,w.last=w.count-1);w.computedW=w.itemW-w.boxPadding};w.update=function(c,e){w.doMath();o||(c<w.currentSlide?w.currentSlide+=1:c<=w.currentSlide&&0!==c&&(w.currentSlide-=1),w.animatingTo=w.currentSlide);if(v.controlNav&&!w.manualControls){if("add"===e&&!o||w.pagingCount>w.controlNav.length){p.controlNav.update("add")}else{if("remove"===e&&!o||w.pagingCount<w.controlNav.length){o&&w.currentSlide>w.last&&(w.currentSlide-=1,w.animatingTo-=1),p.controlNav.update("remove",w.last)}}}v.directionNav&&p.directionNav.update()};w.addSlide=function(c,j){var h=a(c);w.count+=1;w.last=w.count-1;g&&d?void 0!==j?w.slides.eq(w.count-j).after(h):w.container.prepend(h):void 0!==j?w.slides.eq(j).before(h):w.container.append(h);w.update(j,"add");w.slides=a(v.selector+":not(.clone)",w);w.setup();v.added(w)};w.removeSlide=function(c){var f=isNaN(c)?w.slides.index(a(c)):c;w.count-=1;w.last=w.count-1;isNaN(c)?a(c,w.slides).remove():g&&d?w.slides.eq(w.last).remove():w.slides.eq(c).remove();w.doMath();w.update(f,"remove");w.slides=a(v.selector+":not(.clone)",w);w.setup();v.removed(w)};p.init()};a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};a.fn.flexslider=function(c){void 0===c&&(c={});if("object"===typeof c){return this.each(function(){var d=a(this),e=d.find(c.selector?c.selector:".slides > li");1===e.length?(e.fadeIn(400),c.start&&c.start(d)):void 0==d.data("flexslider")&&new a.flexslider(this,c)})}var b=a(this).data("flexslider");switch(c){case"play":b.play();break;case"pause":b.pause();break;case"next":b.flexAnimate(b.getTarget("next"),!0);break;case"prev":case"previous":b.flexAnimate(b.getTarget("prev"),!0);break;default:"number"===typeof c&&b.flexAnimate(c,!0)}}})(jQuery);$(document).ready(function(){$("body").css("display","none");$("body").fadeIn(1400);$(".link").click(function(){event.preventDefault();newLocation=this.href;$("body").fadeOut(800,a)});function a(){window.location=newLocation}$("#logo .globe").css("display","none");$("#logo .globe").delay(1200).fadeIn(1200)});$(document).ready(function(){$("img").load(function(){$(this).fadeIn("slow")})});$(document).ready(function(){var b=$(window);var e=$("#intro");var g=$("#intro .bg1");var h=$("#separator1");var f=$("#separator1 .bg2");var c=$("#separator2");var j=$("#separator3");var d=$("#separator3 .bg4");var a=b.height();$("#intro, #separator1, #separator2, #separator3").bind("inview",function(m,n){if(n==true){$(this).addClass("inview")}else{$(this).removeClass("inview")}});function l(){var p=b.height();var o=$("#nav").height()/2;var n=(p/2);var m=n-o;$("#nav").css({top:m})}function k(m,q,p,o,n){return m+"% "+(-((q+p)-o)*n)+"px"}function i(){var m=b.scrollTop();if(e.hasClass("inview")){e.css({backgroundPosition:k(0,a,m,500,0)});g.css({backgroundPosition:k(50,a,m,300,0.2)})}if(h.hasClass("inview")){h.css({backgroundPosition:k(0,a,m,1550,0)});f.css({backgroundPosition:k(70,a,m,3410,0.2)})}if(c.hasClass("inview")){c.css({backgroundPosition:k(0,a,m,2550,0)});bg3.css({backgroundPosition:k(50,a,m,5410,0.2)})}if(j.hasClass("inview")){j.css({backgroundPosition:k(0,a,m,5850,0)});d.css({backgroundPosition:k(50,a,m,6610,0.2)})}$("#pixels").html(m)}l();b.resize(function(){i();l()});b.bind("scroll",function(){i()})});window.Modernizr=function(an,am,al){function H(b){ae.cssText=b}function Y(d,c){return H(ab.join(d+";")+(c||""))}function W(d,c){return typeof d===c}function U(d,c){return !!~(""+d).indexOf(c)}function S(f,c){for(var h in f){var g=f[h];if(!U(g,"-")&&ae[g]!==al){return c=="pfx"?g:!0}}return !1}function Q(g,c,j){for(var i in g){var h=c[g[i]];if(h!==al){return j===!1?g[i]:W(h,"function")?h.bind(j||c):h}}return !1}function O(g,f,j){var i=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+Z.join(i+" ")+i).split(" ");return W(f,"string")||W(f,"undefined")?S(h,f):(h=(g+" "+X.join(i+" ")+i).split(" "),Q(h,f,j))}var ak="2.6.2",aj={},ai=!0,ah=am.documentElement,ag="modernizr",af=am.createElement(ag),ae=af.style,ad,ac={}.toString,ab=" -webkit- -moz- -o- -ms- ".split(" "),aa="Webkit Moz O ms",Z=aa.split(" "),X=aa.toLowerCase().split(" "),V={},T={},R={},P=[],N=P.slice,M,K=function(v,u,t,s){var r,q,p,o,h=am.createElement("div"),g=am.body,b=g||am.createElement("body");if(parseInt(t,10)){while(t--){p=am.createElement("div"),p.id=s?s[t]:ag+(t+1),h.appendChild(p)}}return r=["&#173;",'<style id="s',ag,'">',v,"</style>"].join(""),h.id=ag,(g?h:b).innerHTML+=r,b.appendChild(h),g||(b.style.background="",b.style.overflow="hidden",o=ah.style.overflow,ah.style.overflow="hidden",ah.appendChild(b)),q=u(h,v),g?h.parentNode.removeChild(h):(b.parentNode.removeChild(b),ah.style.overflow=o),!!q},J={}.hasOwnProperty,I;!W(J,"undefined")&&!W(J.call,"undefined")?I=function(d,c){return J.call(d,c)}:I=function(d,c){return c in d&&W(d.constructor.prototype[c],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError}var g=N.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(N.call(arguments)));return Object(c)===c?c:d}return h.apply(a,g.concat(N.call(arguments)))};return f}),V.touch=function(){var a;return"ontouchstart" in an||an.DocumentTouch&&am instanceof DocumentTouch?a=!0:K(["@media (",ab.join("touch-enabled),("),ag,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(b){a=b.offsetTop===9}),a},V.csstransforms=function(){return !!O("transform")},V.csstransitions=function(){return O("transition")};for(var L in V){I(V,L)&&(M=L.toLowerCase(),aj[M]=V[L](),P.push((aj[M]?"":"no-")+M))}return aj.addTest=function(e,c){if(typeof e=="object"){for(var f in e){I(e,f)&&aj.addTest(f,e[f])}}else{e=e.toLowerCase();if(aj[e]!==al){return aj}c=typeof c=="function"?c():c,typeof ai!="undefined"&&ai&&(ah.className+=" "+(c?"":"no-")+e),aj[e]=c}return aj},H(""),af=ad=null,function(aq,ap){function z(f,e){var h=f.createElement("p"),g=f.getElementsByTagName("head")[0]||f.documentElement;return h.innerHTML="x<style>"+e+"</style>",g.insertBefore(h.lastChild,g.firstChild)}function y(){var b=s.elements;return typeof b=="string"?b.split(" "):b}function x(d){var c=B[d[D]];return c||(c={},C++,d[D]=C,B[C]=c),c}function w(b,h,e){h||(h=ap);if(A){return h.createElement(b)}e||(e=x(h));var d;return e.cache[b]?d=e.cache[b].cloneNode():F.test(b)?d=(e.cache[b]=e.createElem(b)).cloneNode():d=e.createElem(b),d.canHaveChildren&&!G.test(b)?e.frag.appendChild(d):d}function v(b,l){b||(b=ap);if(A){return b.createDocumentFragment()}l=l||x(b);var k=l.frag.cloneNode(),j=0,i=y(),h=i.length;for(;j<h;j++){k.createElement(i[j])}return k}function u(d,c){c.cache||(c.cache={},c.createElem=d.createElement,c.createFrag=d.createDocumentFragment,c.frag=c.createFrag()),d.createElement=function(a){return s.shivMethods?w(a,d,c):c.createElem(a)},d.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+y().join().replace(/\w+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(s,c.frag)}function t(b){b||(b=ap);var d=x(b);return s.shivCSS&&!E&&!d.hasCSS&&(d.hasCSS=!!z(b,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),A||u(b,d),b}var ao=aq.html5||{},G=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,F=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,E,D="_html5shiv",C=0,B={},A;(function(){try{var b=ap.createElement("a");b.innerHTML="<xyz></xyz>",E="hidden" in b,A=b.childNodes.length==1||function(){ap.createElement("a");var c=ap.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()}catch(d){E=!0,A=!0}})();var s={elements:ao.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:ao.shivCSS!==!1,supportsUnknownElements:A,shivMethods:ao.shivMethods!==!1,type:"default",shivDocument:t,createElement:w,createDocumentFragment:v};aq.html5=s,t(ap)}(this,am),aj._version=ak,aj._prefixes=ab,aj._domPrefixes=X,aj._cssomPrefixes=Z,aj.testProp=function(b){return S([b])},aj.testAllProps=O,aj.testStyles=K,aj.prefixed=function(e,d,f){return d?O(e,d,f):O(e,"pfx")},ah.className=ah.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(ai?" js "+P.join(" "):""),aj}(this,this.document),function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)},50);for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,v,0,t)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,v,g,t))}}}}else{!h&&p()}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;u(t?w.yep:w.nope,!!s),s&&u(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};